```GDScript
# PlayerDeathCap.gd（示意，挂在 CapabilitySystem 内）
extends Node
class_name PlayerDeathCap

func on_activated():
    # 1. 取得（或创建）队列
    var queue : ActionQueue = owner.get_node_or_null("ActionQueue")
    if queue == null:
        queue = ActionQueue.new(owner)
        owner.add_child(queue)

    # 2. 按顺序压入动作
    queue.do(funcref(self, "_block_input"))
    queue.do(funcref(self, "_play_death_anim"))
    queue.until(owner.get_node("AnimationPlayer"), "animation_finished")
    queue.wait(0.25)
    queue.do(funcref(self, "_spawn_corpse"))
    queue.do(funcref(owner, "queue_free"))

#--------------------------------------------------
# 各 Action 对应的函数
#--------------------------------------------------
func _block_input():
    owner.set_physics_process(false)                 # 冻结移动
    owner.set_process_input(false)

func _play_death_anim():
    owner.get_node("AnimationPlayer").play("death")

func _spawn_corpse():
    var corpse := preload("res://scenes/Corpse.tscn").instantiate()
    get_tree().current_scene.add_child(corpse)
    corpse.global_position = owner.global_position

```
效果：输入立刻冻结 → 动画播完 → 0.25 s 延迟 → 生成尸体 → 删除玩家节点，全程无需 yield、计时器或深层嵌套回调。